<h2>Demo of XrmContextService</h2>

<div *ngIf="account != null">
  Name: {{ account.name }}<br />
  Last on hold: {{ account.lastonholdtime  }}<br />
  <input type="text" [(ngModel)]="newDate" placeholder="yyyy-mm-ddThh:mm:ssZ" /><button (click)="updateDate()">Update date</button><br /><br />
  Do not email: {{ account.donotemail }}
  <input type="checkbox" [(ngModel)]="account.donotemail" (ngModelChange)="updateAccount()" />
  <br /><br />
  Ignore me virtual property: {{ account.ignoreMe }}<br /><br />

  <div *ngIf="contactResult != null">
    <br />
    <br />
    Contacts: {{ contactResult.count }}<br />
    <ul>
      <li *ngFor="let con of contacts" (click)="click(con)">{{ con.server_fullname }} : {{ con.views }}&nbsp;<button (click)="delete(con)">Delete</button></li>
    </ul>
    <br />
    <button (click)="prev()" [disabled]="contactResult.prev == null">Prev</button>
    {{ contactResult.pageIndex + 1 }}
    <button (click)="next()" [disabled]="contactResult.next == null">Next</button>
    <div *ngIf="currentContact != null">
      <br /><br />
      Edit current contact<br />
      {{ currentContact.fullname }}<br />
      <input [(ngModel)]="editCurrentName"/><button (click)="update()">Update</button>

    </div>
  </div>

  <div>
    <br /><br />
    Create new contact<br />
    <input [(ngModel)]="newContact" />&nbsp;<button (click)="create()">Create</button>
  </div>

</div>
